# Debugging Dom-0/Dom-U Kernel

1.   Boot Xen and Dom-0. For details on how to boot Xen and Dom-0, refer [UG1144 - PetaLinux Tools Documentation: Reference Guide](https://www.xilinx.com/cgi-bin/docs/rdoc?v=latest;d=ug1144-petalinux-tools-reference-guide.pdf).
2.   Enable Xen awareness by enabling OS aware debug for Xen symbol file. Symbol files are added to a process context to enable source level debugging. For details on how to enable Xen awareness, refer [Enabling Xen Awareness](sdk_enable_xen_aware_debug.html).
3.   Debug Dom-0 kernel. 
    1.   Enable OS awareness on the Linux symbol file in the **Debug** view for **Dom-0 VCPU** context. For details on OS aware debug, refer [OS Aware Debugging](../SDK_concepts/concept_osawaredebug.html). 

        ![](../images/debug_dom0_kernel.png)

    2.   Suspend the **Dom-0 VCPU\#0** core. You can now insert breakpoints, step in, step out, watch variables, stack trace or perform other source level debugging tasks. 

        ![](../images/suspend_dom0_core.png)

4.   Debug Dom-U Kernel. 
    1.   Copy the guest Linux images to Dom-0 file system. 
    2.   Create a Dom-U guest. 
    3.   Enable OS awareness on the Linux symbol file in the **Debug** view for **Dom-U VCPU** context. For details on OS aware debug, refer [OS Aware Debugging](../SDK_concepts/concept_osawaredebug.html). 
    4.   Suspend the **Dom-U VCPU\#0** core. You can now insert breakpoints, step in, step out, watch variables, stack trace or perform other source level debugging tasks. 

**Parent topic:** [Xen Aware Debugging](../SDK_concepts/concept_xen-aware_debug.html)

