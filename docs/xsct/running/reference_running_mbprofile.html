# mbprofile

Configure and run the MB profiler.

## Syntax

mbprofile \[options\]

Configure and run the MB profiler, a non-intrusive profiler for profiling the application running on MB. The output file is generated in gmon.out format. The results can be viewed using gprof editor. In case of cycle count, an annotated disassembly file is also generated clearly marking time taken for execution of instructions.

## Options

|Option|Description|
|------|-----------|
|-low <addr\>|Low address of the profiling address range.|
|-high <addr\>|High address of the profiling address range.|
|-freq <value\>|Microblaze clock frequency. Default is 100MHz.|
|-count-instr|Count no. of executed instructions. By default no. of clock cycles of executed instructions are counted.|
|-cumulate|Cumulative profiling. Profiling without clearing the profiling buffers.|
|-start|Enable and start profiling.|
|-stop|Disable/stop profiling.|
|-out <filename\>|Output profiling data to file. `<filename>` Name of the output file for writing the profiling data. If file name is not specified, profiling data is written to gmon.out.|

## Returns

Depends on options used. -low, -high, -freq, -count-instr, -start, -cumulate Returns nothing on successful configuration. Error string, in case of error.

`-stop`: Returns nothing, and generates a file. Error string, in case of error.

## Example\(s\)

```
mbprofile -low 0x0 -high 0x3FFF
```

Configure the mb-profiler with address range 0x0 to 0x3FFF for profiling to count the clock cycles of executed instructions.

```
mbprofile -start
```

Enable and start profiling.

```
mbprofile -stop -out testgmon.out
```

Output the profile data in testgmon.out.

```
mbprofile -count-instr
```

Configure the mb-profiler to profile for entire program address range to count no. of instructions executed.

**Parent topic:** [Program Execution](../../xsct/running/reference_xsct_running.html)

**Related information**  


[state](../../xsct/running/reference_running_state.html)

[stop](../../xsct/running/reference_running_stop.html)

[con](../../xsct/running/reference_running_con.html)

[stp](../../xsct/running/reference_running_stp.html)

[nxt](../../xsct/running/reference_running_nxt.html)

[stpi](../../xsct/running/reference_running_stpi.html)

[nxti](../../xsct/running/reference_running_nxti.html)

[stpout](../../xsct/running/reference_running_stpout.html)

[dis](../../xsct/running/reference_running_dis.html)

[print](../../xsct/running/reference_running_print.html)

[locals](../../xsct/running/reference_running_locals.html)

[backtrace](../../xsct/running/reference_running_backtrace.html)

[profile](../../xsct/running/reference_running_profile.html)

